clear
# üßÆ Estimaci√≥n de tama√±o muestral e IC

# Par√°metros b√°sicos
scalar sigma  = 100
scalar sigma2 = sigma^2
scalar E      = 15
scalar Z      = 1.96
scalar N      = 500
scalar media  = 20

# C√°lculo tama√±o muestral (m√©todo A + correcci√≥n finita)
scalar n_teorico  = (Z^2 * sigma2) / E^2
scalar n_ajustado = n_teorico / (1 + n_teorico / N)
scalar n_final    = ceil(n_ajustado)

# Intervalo de confianza corregido
scalar f      = n_final / N
scalar margen = Z * sigma / sqrt(n_final) * sqrt(1 - f)
scalar inf    = media - margen
scalar sup    = media + margen

# Resultados clave
printf "‚úÖ Tama√±o muestral a usar (redondeado): %.0f\n", n_final
printf "üìê IC al 95%% para media esperada %.2f:\n", media
printf "   - Margen de error corregido: %.2f\n", margen
printf "   - L√≠mite inferior: %.2f\n", inf
printf "   - L√≠mite superior: %.2f\n", sup

